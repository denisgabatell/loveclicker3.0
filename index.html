<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Love Clicker üíñ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.3s, color 0.3s;
        }
        
        :root {
            --primary: #ff6b8b;
            --secondary: #ff8e9e;
            --accent: #ffccd5;
            --gold: #ffd700;
            --purple: #c77dff;
            --blue: #48cae4;
            --pink: #ff9ff3;
            --green: #00ff9d;
            --diamond: #b9f2ff;
            --dark: #0f0f1a;
            --dark-light: #1a1b2e;
            --light: #fff5f7;
            --text-light: #ffffff;
            --text-dark: #333333;
            --card-bg: rgba(30, 31, 48, 0.8);
            --card-border: rgba(255, 255, 255, 0.05);
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0f 0%, #151522 100%);
            min-height: 100vh;
            color: var(--text-light);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
            touch-action: manipulation;
            position: relative;
        }
        
        /* –ñ–ò–í–û–ô –¢–ï–ú–ù–´–ô –§–û–ù */
        .dark-bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 107, 139, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(199, 125, 255, 0.03) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(72, 202, 228, 0.02) 0%, transparent 50%);
            animation: bgPulse 20s ease-in-out infinite alternate;
        }
        
        @keyframes bgPulse {
            0% {
                opacity: 0.3;
                transform: scale(1);
            }
            100% {
                opacity: 0.5;
                transform: scale(1.1);
            }
        }
        
        .dark-hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        .dark-floating-heart {
            position: absolute;
            font-size: 24px;
            opacity: 0.05;
            animation: darkFloat 25s linear infinite;
            filter: drop-shadow(0 0 5px rgba(255, 107, 139, 0.1));
            color: rgba(255, 107, 139, 0.2);
        }
        
        @keyframes darkFloat {
            0% {
                transform: translate(0, 0) rotate(0deg) scale(1);
                opacity: 0;
            }
            10% {
                opacity: 0.05;
            }
            90% {
                opacity: 0.05;
            }
            100% {
                transform: translate(calc(100vw * var(--tx)), calc(100vh * var(--ty))) rotate(360deg) scale(1.2);
                opacity: 0;
            }
        }
        
        .dark-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        .dark-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 107, 139, 0.1);
            border-radius: 50%;
            animation: darkSparkle 4s infinite;
            box-shadow: 0 0 10px rgba(255, 107, 139, 0.2);
        }
        
        @keyframes darkSparkle {
            0%, 100% { 
                opacity: 0; 
                transform: translateY(0) scale(0.5);
            }
            50% { 
                opacity: 0.3; 
                transform: translateY(-30px) scale(1);
            }
        }
        
        body.light-theme {
            --dark: #f0f0f0;
            --dark-light: #ffffff;
            --light: #ffeef2;
            --text-light: #333333;
            --text-dark: #000000;
            --card-bg: rgba(255, 255, 255, 0.9);
            --card-border: rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #f0f0f0 0%, #ffffff 100%);
        }
        
        /* –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--dark) 0%, var(--dark-light) 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .studio-container {
            text-align: center;
            animation: float 3s ease-in-out infinite;
        }
        
        .studio-name {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, 
                #ff6b8b, #ff8e9e, #ffccd5, #c77dff, #48cae4, #00ff9d
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientFlow 5s ease infinite;
            margin-bottom: 5px;
            text-shadow: 0 0 30px rgba(255, 107, 139, 0.3);
        }
        
        .by-diana {
            font-size: 1rem;
            font-weight: 300;
            color: var(--accent);
            margin-bottom: 30px;
            opacity: 0.8;
        }
        
        .start-button {
            background: linear-gradient(45deg, var(--primary), var(--purple));
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255, 107, 139, 0.4);
            margin-top: 20px;
            letter-spacing: 1px;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .start-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 139, 0.6);
        }
        
        .start-button:active {
            transform: translateY(-2px);
        }
        
        .hearts-container {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            animation: pulseHearts 2s ease-in-out infinite;
        }
        
        .heart-emoji {
            font-size: 1.8rem;
            animation: floatHeart 3s ease-in-out infinite;
        }
        
        .heart-emoji:nth-child(1) { animation-delay: 0s; }
        .heart-emoji:nth-child(2) { animation-delay: 0.5s; }
        .heart-emoji:nth-child(3) { animation-delay: 1s; }
        .heart-emoji:nth-child(4) { animation-delay: 1.5s; }
        .heart-emoji:nth-child(5) { animation-delay: 2s; }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        @keyframes floatHeart {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        
        @keyframes pulseHearts {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        @keyframes gradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        
        /* –ú–ï–ù–Æ */
        .menu-button {
            position: fixed;
            top: 15px;
            right: 15px;
            width: 50px;
            height: 50px;
            background: linear-gradient(45deg, var(--primary), var(--purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            border: 2px solid rgba(255,255,255,0.1);
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .menu-button.show {
            opacity: 1;
        }
        
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: none;
            backdrop-filter: blur(10px);
        }
        
        .menu-content {
            position: fixed;
            top: 0;
            right: -350px;
            width: 300px;
            height: 100%;
            background: linear-gradient(135deg, var(--dark) 0%, var(--dark-light) 100%);
            z-index: 1001;
            padding: 70px 20px 20px;
            overflow-y: auto;
            transition: right 0.3s ease;
            border-left: 1px solid rgba(255,255,255,0.05);
            box-shadow: -5px 0 30px rgba(0,0,0,0.5);
        }
        
        .menu-section {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid var(--card-border);
        }
        
        .menu-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 26px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background: linear-gradient(45deg, var(--primary), var(--purple));
        }
        
        input:checked + .slider:before {
            transform: translateX(24px);
        }
        
        /* –ì–ê–õ–ï–†–ï–Ø –ó–í–ï–†–ö–û–í */
        .gallery-section {
            margin-top: 20px;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }
        
        .gallery-item {
            aspect-ratio: 1;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 2px solid transparent;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            padding: 10px;
        }
        
        .gallery-item.unlocked {
            background: linear-gradient(135deg, rgba(255, 107, 139, 0.1), rgba(199, 125, 255, 0.1));
            border-color: var(--gold);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.1);
            animation: jump 2s ease-in-out infinite;
        }
        
        .gallery-item.locked {
            opacity: 0.3;
            filter: grayscale(0.8);
            background: rgba(255, 255, 255, 0.03);
        }
        
        @keyframes jump {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .animal-emoji {
            font-size: 40px;
            margin-bottom: 10px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }
        
        .animal-status {
            font-size: 0.7rem;
            padding: 3px 8px;
            border-radius: 10px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .animal-status.unlocked {
            background: linear-gradient(45deg, 
                #ff6b8b, #ff8e9e, #ffccd5, #c77dff, #48cae4, #00ff9d
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientFlow 3s ease infinite;
        }
        
        .animal-status.locked {
            background: rgba(255, 255, 255, 0.05);
            color: rgba(255, 255, 255, 0.3);
        }
        
        /* –ö–ù–û–ü–ö–ê –ú–ê–ì–ê–ó–ò–ù–ê */
        .shop-button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 60px;
            background: linear-gradient(45deg, var(--primary), var(--purple));
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            z-index: 999;
            box-shadow: 0 10px 30px rgba(255, 107, 139, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
            opacity: 0;
            transition: opacity 0.5s, transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .shop-button.show {
            opacity: 1;
        }
        
        .shop-button:hover {
            transform: translateX(-50%) translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 107, 139, 0.4);
        }
        
        .shop-button:active {
            transform: translateX(-50%) translateY(-2px);
        }
        
        /* –û–ö–ù–û –ú–ê–ì–ê–ó–ò–ù–ê */
        .shop-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 1000;
            display: none;
            backdrop-filter: blur(10px);
        }
        
        .shop-window {
            position: fixed;
            bottom: -100%;
            left: 0;
            width: 100%;
            height: 85%;
            background: linear-gradient(135deg, var(--dark) 0%, var(--dark-light) 100%);
            z-index: 1001;
            padding: 20px;
            overflow-y: auto;
            transition: bottom 0.4s ease;
            border-top: 2px solid var(--primary);
            border-radius: 30px 30px 0 0;
            box-shadow: 0 -10px 40px rgba(0,0,0,0.5);
        }
        
        .shop-window-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .shop-window-title {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--blue), var(--purple));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .close-shop {
            background: linear-gradient(45deg, var(--primary), var(--purple));
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –ü–û–¶–ï–õ–£–ô */
        .fullscreen-kiss {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
        }
        
        .fullscreen-kiss.show {
            opacity: 1;
        }
        
        .fullscreen-kiss-content {
            font-size: 200px;
            animation: kissExplode 1.5s ease-out forwards;
            filter: drop-shadow(0 0 50px rgba(255, 20, 147, 0.8));
        }
        
        @keyframes kissExplode {
            0% {
                transform: scale(0.2) rotate(-30deg);
                opacity: 0;
            }
            20% {
                transform: scale(1.2) rotate(10deg);
                opacity: 1;
            }
            40% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            80% {
                transform: scale(1) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: scale(1.5) rotate(10deg);
                opacity: 0;
            }
        }
        
        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ */
        .container {
            max-width: 500px;
            margin: 0 auto;
            padding: 20px 15px;
            position: relative;
            z-index: 2;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s, transform 0.5s;
        }
        
        .container.show {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –õ–Æ–ë–í–ò */
        .love-notification {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, 
                rgba(255, 107, 139, 0.9), 
                rgba(199, 125, 255, 0.9)
            );
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            font-weight: 700;
            z-index: 999;
            opacity: 0;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            max-width: 90%;
            animation: loveNotification 10s ease-in-out forwards;
            font-size: 1.1rem;
            letter-spacing: 0.5px;
        }
        
        @keyframes loveNotification {
            0%, 90% { 
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            10%, 80% { 
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
            100% { 
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
        }
        
        .header-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 10px 15px;
            background: var(--card-bg);
            border-radius: 15px;
            border: 1px solid var(--card-border);
        }
        
        .diamond-counter {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--diamond);
            text-shadow: 0 0 10px rgba(185, 242, 255, 0.5);
        }
        
        .smile-text {
            text-align: center;
            margin-bottom: 25px;
            padding: 15px;
            position: relative;
        }
        
        .animated-text {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, 
                var(--pink), 
                var(--primary), 
                var(--purple), 
                var(--blue),
                var(--green)
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientFlow 5s ease infinite;
            text-shadow: 0 0 20px rgba(255, 107, 139, 0.3);
            padding: 10px 20px;
            border-radius: 15px;
            display: inline-block;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .heart-section {
            position: relative;
            margin: 30px 0;
        }
        
        .pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 220px;
            height: 220px;
            border: 2px solid var(--primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
            opacity: 0.3;
        }
        
        @keyframes pulse {
            0% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 0.3;
            }
            50% {
                opacity: 0.1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.2);
                opacity: 0;
            }
        }
        
        .heart-btn {
            width: 180px;
            height: 180px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            cursor: pointer;
            user-select: none;
            border: none;
            box-shadow: 
                0 15px 35px rgba(255, 107, 139, 0.3),
                inset 0 8px 20px rgba(255, 255, 255, 0.1),
                0 0 0 8px rgba(255, 255, 255, 0.05);
            transition: all 0.2s;
            position: relative;
            z-index: 2;
            transform-style: preserve-3d;
        }
        
        .heart-btn:active {
            transform: scale(0.92);
            box-shadow: 
                0 5px 15px rgba(255, 107, 139, 0.4),
                inset 0 4px 10px rgba(0, 0, 0, 0.2);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            border: 1px solid var(--card-border);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.05);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--purple));
        }
        
        .stat-icon {
            font-size: 1.8rem;
            margin-bottom: 10px;
            display: block;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
            display: block;
        }
        
        .stat-label {
            font-size: 0.85rem;
            color: var(--accent);
            opacity: 0.8;
            margin-top: 5px;
        }
        
        .shop-section {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 25px 20px;
            margin-top: 25px;
            border: 1px solid var(--card-border);
            max-height: 400px;
            overflow-y: auto;
        }
        
        .upgrade-item {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 15px;
            padding: 18px;
            margin-bottom: 15px;
            border: 1px solid var(--card-border);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .upgrade-item.locked {
            opacity: 0.5;
            filter: grayscale(0.8);
        }
        
        .upgrade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .upgrade-name {
            font-size: 1.1rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .upgrade-cost {
            background: rgba(255, 215, 0, 0.1);
            color: var(--gold);
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(255, 215, 0, 0.1);
        }
        
        .diamond-cost {
            background: rgba(185, 242, 255, 0.1);
            color: var(--diamond);
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
            border: 1px solid rgba(185, 242, 255, 0.1);
        }
        
        .upgrade-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 10px;
            font-size: 0.9rem;
            color: var(--accent);
        }
        
        .upgrade-effect {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .upgrade-count {
            color: var(--blue);
            font-weight: 600;
        }
        
        .upgrade-requirement {
            color: rgba(255, 107, 139, 0.7);
            font-size: 0.8rem;
            margin-top: 5px;
        }
        
        .buy-btn {
            background: linear-gradient(45deg, var(--primary), var(--purple));
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 12px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 15px;
            position: relative;
            overflow: hidden;
            letter-spacing: 0.5px;
        }
        
        .buy-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 107, 139, 0.3);
        }
        
        .buy-btn:active:not(:disabled) {
            transform: translateY(0);
        }
        
        .buy-btn.enabled {
            background: linear-gradient(45deg, var(--primary), var(--purple));
            animation: pulseBtn 1.5s infinite;
        }
        
        .buy-btn.disabled {
            background: linear-gradient(45deg, #333, #444);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            opacity: 0.6;
        }
        
        @keyframes pulseBtn {
            0%, 100% { box-shadow: 0 0 0 0 rgba(255, 107, 139, 0.4); }
            50% { box-shadow: 0 0 0 10px rgba(255, 107, 139, 0); }
        }
        
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: linear-gradient(45deg, var(--primary), var(--purple));
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: 600;
            z-index: 1000;
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            text-align: center;
            max-width: 90%;
            box-shadow: 0 10px 30px rgba(255, 107, 139, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }
        
        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        .bonus-5-coins {
            position: fixed;
            font-size: 25px;
            z-index: 999;
            pointer-events: none;
            animation: bonusFloat 4s ease-out forwards;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.8));
        }
        
        @keyframes bonusFloat {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
            20% {
                opacity: 1;
                transform: translateY(80vh) scale(1);
            }
            80% {
                opacity: 1;
            }
            100% {
                transform: translateY(-50px) scale(0.5);
                opacity: 0;
            }
        }
        
        .save-icon {
            position: fixed;
            bottom: 80px;
            left: 20px;
            font-size: 24px;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s;
            z-index: 10000;
            pointer-events: none;
        }
        
        @media (max-width: 480px) {
            .studio-name {
                font-size: 2.2rem;
            }
            
            .start-button {
                padding: 15px 30px;
                font-size: 1.1rem;
            }
            
            .heart-btn {
                width: 150px;
                height: 150px;
                font-size: 60px;
            }
            
            .pulse-ring {
                width: 180px;
                height: 180px;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .animated-text {
                font-size: 1.4rem;
            }
            
            .menu-content {
                width: 280px;
            }
            
            .shop-button {
                width: 180px;
                height: 50px;
                font-size: 1.1rem;
            }
            
            .fullscreen-kiss-content {
                font-size: 150px;
            }
            
            .gallery-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }
            
            .animal-emoji {
                font-size: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- –¢–ï–ú–ù–´–ô –ñ–ò–í–û–ô –§–û–ù -->
    <div class="dark-bg-animation"></div>
    <div class="dark-hearts-bg" id="darkHeartsBg"></div>
    <div class="dark-particles" id="darkParticles"></div>
    
    <!-- –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò -->
    <div class="loading-screen" id="loadingScreen">
        <div class="studio-container">
            <div class="studio-name">gromoov_studio</div>
            <div class="by-diana">by Diana</div>
            
            <button class="start-button" id="startButton">
                –ù–ê–ß–ê–¢–¨ –ò–ì–†–£
            </button>
            
            <div class="hearts-container">
                <div class="heart-emoji">üíñ</div>
                <div class="heart-emoji">üíï</div>
                <div class="heart-emoji">üíù</div>
                <div class="heart-emoji">üíò</div>
                <div class="heart-emoji">üíì</div>
            </div>
        </div>
    </div>
    
    <!-- –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –ü–û–¶–ï–õ–£–ô -->
    <div class="fullscreen-kiss" id="fullscreenKiss">
        <div class="fullscreen-kiss-content">üíã</div>
    </div>
    
    <!-- –£–í–ï–î–û–ú–õ–ï–ù–ò–ï –õ–Æ–ë–í–ò -->
    <div class="love-notification" id="loveNotification">
        –Ω–µ –∑–∞–±—ã–≤–∞–π —á—Ç–æ —è —Ç–µ–±—è –ª—é–±–ª—é üíñ
    </div>
    
    <!-- –ê–£–î–ò–û –ü–õ–ï–ï–† -->
    <audio id="backgroundMusic" loop>
        <source src="https://github.com/denisgabatell/musicfone0222/raw/main/snowfall_w_%C3%98neheart.mp3" type="audio/mpeg">
    </audio>
    
    <!-- –ö–ù–û–ü–ö–ê –ú–ï–ù–Æ -->
    <div class="menu-button" id="menuButton">
        ‚öôÔ∏è
    </div>
    
    <!-- –ö–ù–û–ü–ö–ê –ú–ê–ì–ê–ó–ò–ù–ê -->
    <button class="shop-button" id="shopButton">
        üõí –ú–ê–ì–ê–ó–ò–ù
    </button>
    
    <!-- –ò–ö–û–ù–ö–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø -->
    <div class="save-icon" id="saveIcon">üíæ</div>
    
    <!-- –ú–ï–ù–Æ -->
    <div class="menu-overlay" id="menuOverlay"></div>
    <div class="menu-content" id="menuContent">
        <div class="menu-section">
            <div class="menu-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
            <div class="menu-item">
                <span>üåô –¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                <label class="switch">
                    <input type="checkbox" id="themeToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="menu-item">
                <span>üì≥ –í–∏–±—Ä–∞—Ü–∏—è</span>
                <label class="switch">
                    <input type="checkbox" id="vibrationToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="menu-item">
                <span>üîä –ó–≤—É–∫–∏</span>
                <label class="switch">
                    <input type="checkbox" id="soundToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
            <div class="menu-item">
                <span>üéµ –§–æ–Ω–æ–≤–∞—è –º—É–∑—ã–∫–∞</span>
                <label class="switch">
                    <input type="checkbox" id="musicToggle" checked>
                    <span class="slider"></span>
                </label>
            </div>
        </div>
        
        <!-- –ì–ê–õ–ï–†–ï–Ø –ó–í–ï–†–¨–ö–û–í -->
        <div class="menu-section gallery-section">
            <div class="menu-title">üèÜ –ì–∞–ª–µ—Ä–µ—è –∑–≤–µ—Ä—å–∫–æ–≤</div>
            <div style="color: var(--accent); font-size: 0.9rem; margin-bottom: 10px;">
                –°–æ–±–µ—Ä–∏ –≤—Å–µ—Ö 50 –∑–≤–µ—Ä—å–∫–æ–≤! –û—Ç–∫—Ä—ã–≤–∞–π—Ç–µ –Ω–æ–≤—ã—Ö –∑–∞ –∫–∞–∂–¥—ã–µ 500 –º–æ–Ω–µ—Ç
            </div>
            <div class="gallery-grid" id="galleryGrid">
                <!-- –ó–≤–µ—Ä—å–∫–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
        </div>
        
        <div class="menu-section">
            <div class="menu-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            <div class="menu-item">
                <span>ü™ô –í—Å–µ–≥–æ –º–æ–Ω–µ—Ç:</span>
                <span id="totalCoinsStat">0</span>
            </div>
            <div class="menu-item">
                <span>üíé –ê–ª–º–∞–∑—ã:</span>
                <span id="totalDiamondsStat">0</span>
            </div>
            <div class="menu-item">
                <span>üíñ –°–µ—Ä–¥–µ—á–µ–∫ –∫—É–ø–ª–µ–Ω–æ:</span>
                <span id="heartsBoughtStat">0</span>
            </div>
            <div class="menu-item">
                <span>üïí –í—Ä–µ–º—è –∏–≥—Ä—ã:</span>
                <span id="playTimeStat">0 –º–∏–Ω</span>
            </div>
            <div class="menu-item">
                <span>üêæ –û—Ç–∫—Ä—ã—Ç–æ –∑–≤–µ—Ä—å–∫–æ–≤:</span>
                <span id="animalsUnlockedCount">0/50</span>
            </div>
        </div>
    </div>
    
    <!-- –û–ö–ù–û –ú–ê–ì–ê–ó–ò–ù–ê -->
    <div class="shop-overlay" id="shopOverlay"></div>
    <div class="shop-window" id="shopWindow">
        <div class="shop-window-header">
            <div class="shop-window-title">üõí –ú–∞–≥–∞–∑–∏–Ω —É–ª—É—á—à–µ–Ω–∏–π</div>
            <button class="close-shop" id="closeShop">‚úï</button>
        </div>
        <div id="upgradesList">
            <!-- –£–ª—É—á—à–µ–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
        </div>
    </div>
    
    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification"></div>
    
    <div class="container" id="gameContainer">
        <!-- –®–∞–ø–∫–∞ —Å –∞–ª–º–∞–∑–∞–º–∏ -->
        <div class="header-info">
            <div class="diamond-counter">
                üíé <span id="diamondsCounter">0</span>
            </div>
            <div>üíñ –õ—é–±–æ–≤—å –¥–ª—è –î–∏–∞–Ω—ã</div>
        </div>
        
        <!-- –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –Ω–∞–¥–ø–∏—Å—å -->
        <div class="smile-text">
            <div class="animated-text">üíñ –î–∏–∞–Ω–∫–∞, —É–ª—ã–±–∞–π—Å—è! üíñ</div>
        </div>
        
        <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ -->
        <div class="heart-section">
            <div class="pulse-ring"></div>
            <div class="pulse-ring" style="animation-delay: 0.5s;"></div>
            <div class="pulse-ring" style="animation-delay: 1s;"></div>
            
            <button class="heart-btn" id="heartBtn">
                üíñ
            </button>
        </div>
        
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-icon">ü™ô</span>
                <span class="stat-value" id="coins">0</span>
                <div class="stat-label">–ú–æ–Ω–µ—Ç—ã</div>
            </div>
            <div class="stat-card">
                <span class="stat-icon">üíñ</span>
                <span class="stat-value" id="hearts">0</span>
                <div class="stat-label">–°–µ—Ä–¥–µ—á–∫–∏</div>
            </div>
            <div class="stat-card">
                <span class="stat-icon">‚ö°</span>
                <span class="stat-value" id="heartsPerSecond">0</span>
                <div class="stat-label">–í —Å–µ–∫—É–Ω–¥—É</div>
            </div>
            <div class="stat-card">
                <span class="stat-icon">üí™</span>
                <span class="stat-value" id="clickPower">1</span>
                <div class="stat-label">–°–∏–ª–∞ –∫–ª–∏–∫–∞</div>
            </div>
        </div>
    </div>

    <script>
        // ========== –¢–ï–ú–ù–´–ô –ñ–ò–í–û–ô –§–û–ù ==========
        function createDarkFloatingHearts() {
            const container = document.getElementById('darkHeartsBg');
            const hearts = ['üíñ', 'üíï', 'üíù', 'üíò', 'üíì', 'üíó', 'üíû'];
            
            for (let i = 0; i < 20; i++) {
                const heart = document.createElement('div');
                heart.className = 'dark-floating-heart';
                heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
                heart.style.left = Math.random() * 100 + 'vw';
                heart.style.top = Math.random() * 100 + 'vh';
                heart.style.fontSize = (Math.random() * 20 + 15) + 'px';
                heart.style.opacity = Math.random() * 0.05 + 0.02;
                heart.style.color = `rgba(255, ${Math.random() * 100 + 100}, ${Math.random() * 100 + 150}, 0.1)`;
                heart.style.setProperty('--tx', Math.random());
                heart.style.setProperty('--ty', Math.random());
                heart.style.animationDuration = (Math.random() * 15 + 20) + 's';
                heart.style.animationDelay = Math.random() * 10 + 's';
                container.appendChild(heart);
            }
        }
        
        function createDarkParticles() {
            const container = document.getElementById('darkParticles');
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'dark-particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.top = Math.random() * 100 + 'vh';
                particle.style.width = particle.style.height = (Math.random() * 2 + 1) + 'px';
                particle.style.animationDelay = Math.random() * 4 + 's';
                particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                particle.style.backgroundColor = `rgba(255, ${Math.random() * 100 + 100}, ${Math.random() * 100 + 150}, 0.1)`;
                container.appendChild(particle);
            }
        }
        
        // ========== –≠–ö–†–ê–ù –ó–ê–ì–†–£–ó–ö–ò –ò –ù–ê–ß–ê–õ–û –ò–ì–†–´ ==========
        const loadingScreen = document.getElementById('loadingScreen');
        const startButton = document.getElementById('startButton');
        const gameContainer = document.getElementById('gameContainer');
        const menuButton = document.getElementById('menuButton');
        const shopButton = document.getElementById('shopButton');
        const fullscreenKiss = document.getElementById('fullscreenKiss');

        function startGame() {
            loadingScreen.style.opacity = '0';
            loadingScreen.style.transform = 'scale(1.1)';
            
            setTimeout(() => {
                loadingScreen.style.display = 'none';
                gameContainer.classList.add('show');
                menuButton.classList.add('show');
                shopButton.classList.add('show');
                
                // –°–æ–∑–¥–∞–µ–º —Ç–µ–º–Ω—ã–π –∂–∏–≤–æ–π —Ñ–æ–Ω
                createDarkFloatingHearts();
                createDarkParticles();
                
                initGamePlay();
                
                setTimeout(() => {
                    if (musicEnabled) {
                        playMusic();
                    }
                }, 1000);
            }, 500);
        }

        startButton.addEventListener('click', startGame);
        
        setTimeout(() => {
            if (loadingScreen.style.display !== 'none') {
                startButton.textContent = '–ò–ì–†–ê –ó–ê–ì–†–£–ñ–ï–ù–ê!';
                startButton.style.background = 'linear-gradient(45deg, var(--green), var(--blue))';
            }
        }, 5000);

        // ========== –ú–£–ó–´–ö–ê ==========
        const backgroundMusic = document.getElementById('backgroundMusic');
        let musicEnabled = true;
        let isMusicPlaying = false;

        function playMusic() {
            if (musicEnabled && !isMusicPlaying) {
                backgroundMusic.volume = 0.2;
                backgroundMusic.play().then(() => {
                    isMusicPlaying = true;
                }).catch(error => {
                    console.log('–ê–≤—Ç–æ–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ:', error);
                });
            }
        }

        function toggleMusic() {
            musicEnabled = !musicEnabled;
            document.getElementById('musicToggle').checked = musicEnabled;
            
            if (musicEnabled) {
                playMusic();
            } else {
                backgroundMusic.pause();
                isMusicPlaying = false;
            }
            saveGame();
        }

        document.getElementById('musicToggle').addEventListener('change', toggleMusic);

        // ========== –ü–û–õ–ù–û–≠–ö–†–ê–ù–ù–´–ô –ü–û–¶–ï–õ–£–ô ==========
        function showFullscreenKiss() {
            fullscreenKiss.classList.add('show');
            
            setTimeout(() => {
                fullscreenKiss.classList.remove('show');
            }, 1500);
        }

        // ========== –ú–ê–ì–ê–ó–ò–ù –û–ö–ù–û ==========
        const shopOverlay = document.getElementById('shopOverlay');
        const shopWindow = document.getElementById('shopWindow');
        const closeShop = document.getElementById('closeShop');

        function openShop() {
            shopOverlay.style.display = 'block';
            setTimeout(() => {
                shopWindow.style.bottom = '0';
            }, 10);
            
            renderShopUpgrades();
        }
        
        function closeShopWindow() {
            shopWindow.style.bottom = '-100%';
            setTimeout(() => {
                shopOverlay.style.display = 'none';
            }, 400);
        }

        shopButton.addEventListener('click', openShop);
        shopOverlay.addEventListener('click', closeShopWindow);
        closeShop.addEventListener('click', closeShopWindow);

        // ========== –ò–ì–†–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï ==========
        let coins = 0;
        let hearts = 0;
        let clickPower = 1;
        let heartsPerSecond = 0;
        let diamonds = 0;
        let totalCoinsEarned = 0;
        let lastBonusCoins = 0;
        let lastDiamondBonus = 0;
        let heartsBought = 0;
        let playTime = 0;
        let unlockedAnimals = 0;
        let lastUpdate = Date.now();
        
        // –î–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        let last500CoinsNotification = 0;
        let lastLoveNotificationTime = 0;
        
        let darkTheme = true;
        let vibration = true;
        let sound = true;
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const heartBtn = document.getElementById('heartBtn');
        const coinsEl = document.getElementById('coins');
        const heartsEl = document.getElementById('hearts');
        const heartsPerSecondEl = document.getElementById('heartsPerSecond');
        const clickPowerEl = document.getElementById('clickPower');
        const diamondsCounter = document.getElementById('diamondsCounter');
        const upgradesList = document.getElementById('upgradesList');
        const notification = document.getElementById('notification');
        const galleryGrid = document.getElementById('galleryGrid');
        const animalsUnlockedCount = document.getElementById('animalsUnlockedCount');
        
        // –ú–µ–Ω—é —ç–ª–µ–º–µ–Ω—Ç—ã
        const menuOverlay = document.getElementById('menuOverlay');
        const menuContent = document.getElementById('menuContent');
        const themeToggle = document.getElementById('themeToggle');
        const vibrationToggle = document.getElementById('vibrationToggle');
        const soundToggle = document.getElementById('soundToggle');
        const totalCoinsStat = document.getElementById('totalCoinsStat');
        const totalDiamondsStat = document.getElementById('totalDiamondsStat');
        const heartsBoughtStat = document.getElementById('heartsBoughtStat');
        const playTimeStat = document.getElementById('playTimeStat');

        // ========== –ì–ê–õ–ï–†–ï–Ø –ó–í–ï–†–¨–ö–û–í ==========
        const animals = [
            "üê∂", "üê±", "üê≠", "üêπ", "üê∞", "ü¶ä", "üêª", "üêº", "üê®", "üêØ",
            "ü¶Å", "üêÆ", "üê∑", "üê∏", "üêµ", "üêî", "üêß", "üê¶", "üê§", "ü¶Ü",
            "ü¶Ö", "ü¶â", "ü¶á", "üê∫", "üêó", "üê¥", "ü¶Ñ", "üêù", "üêõ", "ü¶ã",
            "üêå", "üêû", "üêú", "ü¶ü", "ü¶ó", "üï∑", "ü¶Ç", "üê¢", "üêç", "ü¶é",
            "üêô", "ü¶ë", "ü¶ê", "ü¶û", "üê°", "üê†", "üêü", "üê¨", "üê≥", "ü¶à"
        ];

        function renderGallery() {
            galleryGrid.innerHTML = '';
            
            for (let i = 0; i < 50; i++) {
                const isUnlocked = i < unlockedAnimals;
                const galleryItem = document.createElement('div');
                galleryItem.className = `gallery-item ${isUnlocked ? 'unlocked' : 'locked'}`;
                galleryItem.innerHTML = `
                    <div class="animal-emoji">${animals[i]}</div>
                    <div class="animal-status ${isUnlocked ? 'unlocked' : 'locked'}">
                        ${isUnlocked ? '–æ—Ç–∫—Ä—ã—Ç–æ' : '???'}
                    </div>
                `;
                galleryItem.title = isUnlocked ? `–ó–≤–µ—Ä—ë–∫ ${i + 1}` : '–ï—â—ë –Ω–µ –æ—Ç–∫—Ä—ã—Ç';
                galleryGrid.appendChild(galleryItem);
            }
            animalsUnlockedCount.textContent = `${unlockedAnimals}/50`;
        }

        // ========== –ú–ê–ì–ê–ó–ò–ù –° –ü–†–û–ì–†–ï–°–°–ò–í–ù–û–ô –ü–†–û–ö–ê–ß–ö–û–ô ==========
        const upgrades = [
            { 
                id: 1, 
                name: "üíñ –ú–∏–ª–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ", 
                description: "–ú–∞–ª–µ–Ω—å–∫–∞—è –ø–æ—Ä—Ü–∏—è –ª—é–±–≤–∏", 
                baseCost: 20, 
                cost: 20, 
                heartsPerSecond: 1, 
                count: 0,
                requiredCount: 0,
                maxCount: 10,
                unlocked: true
            },
            { 
                id: 2, 
                name: "üíï –ü–∞—Ä—è—â–µ–µ —Å–µ—Ä–¥–µ—á–∫–æ", 
                description: "–õ–µ—Ç–∞–µ—Ç –≤–æ–∫—Ä—É–≥ —ç–∫—Ä–∞–Ω–∞", 
                baseCost: 75, 
                cost: 75, 
                heartsPerSecond: 3, 
                count: 0,
                requiredCount: 10,
                maxCount: 10,
                unlocked: false
            },
            { 
                id: 3, 
                name: "üíò –°–µ—Ä–¥—Ü–µ –ö—É–ø–∏–¥–æ–Ω–∞", 
                description: "–°—Ç—Ä–µ–ª–∞ –ø–æ–ø–∞–¥–∞–µ—Ç –ø—Ä—è–º–æ –≤ —Ü–µ–ª—å", 
                baseCost: 250, 
                cost: 250, 
                heartsPerSecond: 10, 
                count: 0,
                requiredCount: 20,
                maxCount: 10,
                unlocked: false
            },
            { 
                id: 4, 
                name: "üíù –ü–æ–¥–∞—Ä–æ—á–Ω–æ–µ —Å–µ—Ä–¥—Ü–µ", 
                description: "–° –∫—Ä–∞—Å–∏–≤—ã–º –±–∞–Ω—Ç–∏–∫–æ–º", 
                baseCost: 750, 
                cost: 750, 
                heartsPerSecond: 25, 
                count: 0,
                requiredCount: 30,
                maxCount: 10,
                unlocked: false
            },
            { 
                id: 5, 
                name: "üêµ –û–±–µ–∑—å—è–Ω–∫–∞ –ª—é–±–≤–∏", 
                description: "–ó–∞–±–∞–≤–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö", 
                baseCost: 2000, 
                cost: 2000, 
                heartsPerSecond: 70, 
                count: 0,
                requiredCount: 40,
                maxCount: 10,
                unlocked: false
            },
            { 
                id: 6, 
                name: "üëë –ó–æ–ª–æ—Ç–æ–µ —Å–µ—Ä–¥—Ü–µ", 
                description: "–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –ª—é–±–≤–∏", 
                baseCost: 5000, 
                cost: 5000, 
                heartsPerSecond: 200, 
                count: 0,
                requiredCount: 50,
                maxCount: 10,
                unlocked: false
            }
        ];
        
        // –ò–ó–ú–ï–ù–ï–ù–û: –°–µ—Ä–¥–µ—á–∫–æ –¥–ª—è –î–∏–∞–Ω—ã —Ç–µ–ø–µ—Ä—å –∑–∞ 5 –∞–ª–º–∞–∑–æ–≤ –∏ –¥–∞–µ—Ç 250 –º–æ–Ω–µ—Ç
        const specialHeartUpgrade = {
            id: 100, 
            name: "üíù –°–µ—Ä–¥–µ—á–∫–æ –¥–ª—è –î–∏–∞–Ω—ã", 
            description: "–û—Å–æ–±–µ–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ - –¥–∞—Ä–∏—Ç 250 –º–æ–Ω–µ—Ç", 
            diamondCost: 5, 
            count: 0,
            unlocked: true
        };
        
        const diamondBonusUpgrade = {
            id: 101, 
            name: "üí∞ –ë–æ–Ω—É—Å 500 –º–æ–Ω–µ—Ç", 
            description: "–î–∞—Ä–∏—Ç 500 –º–æ–Ω–µ—Ç –∏ –ø–æ–ª–Ωo—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–æ—Ü–µ–ª—É–π!", 
            diamondCost: 10, 
            count: 0,
            unlocked: true
        };
        
        // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —É–ª—É—á—à–µ–Ω–∏–π
        function checkUpgradesUnlock() {
            let totalCount = 0;
            upgrades.forEach(upgrade => {
                totalCount += upgrade.count;
            });
            
            upgrades.forEach(upgrade => {
                if (totalCount >= upgrade.requiredCount) {
                    upgrade.unlocked = true;
                }
            });
        }

        function renderShopUpgrades() {
            upgradesList.innerHTML = '';
            
            checkUpgradesUnlock();
            
            // –û–±—ã—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π –ø—Ä–æ–∫–∞—á–∫–æ–π
            upgrades.forEach(upgrade => {
                const canAfford = coins >= upgrade.cost && upgrade.unlocked;
                const upgradeEl = createShopUpgradeElement(upgrade, canAfford);
                upgradesList.appendChild(upgradeEl);
            });
            
            // –£–ª—É—á—à–µ–Ω–∏–µ —Å–∏–ª—ã –∫–ª–∏–∫–∞
            const clickUpgradeCost = clickPower * 100;
            const canAffordClick = coins >= clickUpgradeCost;
            const clickUpgradeEl = document.createElement('div');
            clickUpgradeEl.className = 'upgrade-item';
            clickUpgradeEl.innerHTML = `
                <div class="upgrade-header">
                    <div class="upgrade-name">üí™ –£—Å–∏–ª–µ–Ω–∏–µ –∫–ª–∏–∫–∞</div>
                    <div class="upgrade-cost">${clickUpgradeCost} ü™ô</div>
                </div>
                <div style="color: var(--accent); font-size: 0.9rem; margin: 5px 0;">
                    –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å–∏–ª—É –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–∫–∞
                </div>
                <div class="upgrade-info">
                    <div>–¢–µ–∫—É—â–∞—è —Å–∏–ª–∞: ${clickPower}</div>
                    <div>–°–ª–µ–¥—É—é—â–∞—è: ${clickPower + 1}</div>
                </div>
                <button class="buy-btn ${canAffordClick ? 'enabled' : 'disabled'}" 
                        onclick="upgradeClickPower()" 
                        ${canAffordClick ? '' : 'disabled'}>
                    ${canAffordClick ? '–ù—É –≤—Å–µ, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ üí™' : '–ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏'}
                </button>
            `;
            upgradesList.appendChild(clickUpgradeEl);
            
            // –û—Å–æ–±–æ–µ —Å–µ—Ä–¥–µ—á–∫–æ –¥–ª—è –î–∏–∞–Ω—ã (—Ç–µ–ø–µ—Ä—å –∑–∞ 5 –∞–ª–º–∞–∑–æ–≤)
            const canAffordHeart = diamonds >= specialHeartUpgrade.diamondCost;
            const specialHeartEl = document.createElement('div');
            specialHeartEl.className = 'upgrade-item';
            specialHeartEl.style.borderColor = '#ff6b8b';
            specialHeartEl.style.boxShadow = '0 5px 15px rgba(255, 107, 139, 0.1)';
            specialHeartEl.innerHTML = `
                <div class="upgrade-header">
                    <div class="upgrade-name">${specialHeartUpgrade.name}</div>
                    <div class="diamond-cost">${specialHeartUpgrade.diamondCost} üíé</div>
                </div>
                <div style="color: var(--accent); font-size: 0.9rem; margin: 5px 0;">
                    ${specialHeartUpgrade.description}
                </div>
                <div class="upgrade-info">
                    <div>–ö—É–ø–ª–µ–Ω–æ: ${specialHeartUpgrade.count}</div>
                    <div>+250 –º–æ–Ω–µ—Ç üí∞</div>
                </div>
                <button class="buy-btn ${canAffordHeart ? 'enabled' : 'disabled'}" 
                        onclick="buySpecialHeart()" 
                        ${canAffordHeart ? '' : 'disabled'}
                        style="background: linear-gradient(45deg, #ff6b8b, #c77dff);">
                    ${canAffordHeart ? '–ù—É –≤—Å–µ, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ üíù' : '–ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏'}
                </button>
            `;
            upgradesList.appendChild(specialHeartEl);
            
            // –ë–æ–Ω—É—Å 500 –º–æ–Ω–µ—Ç –∑–∞ –∞–ª–º–∞–∑—ã
            const canAffordBonus = diamonds >= diamondBonusUpgrade.diamondCost;
            const diamondBonusEl = document.createElement('div');
            diamondBonusEl.className = 'upgrade-item';
            diamondBonusEl.style.borderColor = '#ffd700';
            diamondBonusEl.style.boxShadow = '0 5px 15px rgba(255, 215, 0, 0.1)';
            diamondBonusEl.innerHTML = `
                <div class="upgrade-header">
                    <div class="upgrade-name">${diamondBonusUpgrade.name}</div>
                    <div class="diamond-cost">${diamondBonusUpgrade.diamondCost} üíé</div>
                </div>
                <div style="color: var(--accent); font-size: 0.9rem; margin: 5px 0;">
                    ${diamondBonusUpgrade.description}
                </div>
                <div class="upgrade-info">
                    <div>–ö—É–ø–ª–µ–Ω–æ: ${diamondBonusUpgrade.count}</div>
                    <div>–û–≥—Ä–æ–º–Ω—ã–π –±–æ–Ω—É—Å!</div>
                </div>
                <button class="buy-btn ${canAffordBonus ? 'enabled' : 'disabled'}" 
                        onclick="buyDiamondBonus()" 
                        ${canAffordBonus ? '' : 'disabled'}
                        style="background: linear-gradient(45deg, #ffd700, #ff6b8b);">
                    ${canAffordBonus ? '–ù—É –≤—Å–µ, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ üíé' : '–ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏'}
                </button>
            `;
            upgradesList.appendChild(diamondBonusEl);
        }

        function createShopUpgradeElement(upgrade, canAfford) {
            const div = document.createElement('div');
            const isLocked = !upgrade.unlocked;
            div.className = `upgrade-item ${isLocked ? 'locked' : ''}`;
            
            const requirementText = isLocked ? 
                `üîí –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ—Å–ª–µ ${upgrade.requiredCount} —Å–µ—Ä–¥–µ—á–µ–∫` : 
                '';
            
            const buttonText = canAfford ? 
                '–ù—É –≤—Å–µ, —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ üíù' : 
                '–ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏';
                
            div.innerHTML = `
                <div class="upgrade-header">
                    <div class="upgrade-name">
                        ${isLocked ? 'üîí' : ''} ${upgrade.name}
                        ${upgrade.count >= upgrade.maxCount ? ' ‚úÖ' : ''}
                    </div>
                    <div class="upgrade-cost">${upgrade.cost} ü™ô</div>
                </div>
                <div style="color: var(--accent); font-size: 0.9rem; margin: 5px 0;">
                    ${upgrade.description}
                </div>
                ${requirementText ? `<div class="upgrade-requirement">${requirementText}</div>` : ''}
                <div class="upgrade-info">
                    <div class="upgrade-effect">
                        <span>+${upgrade.heartsPerSecond} üíñ/—Å–µ–∫</span>
                    </div>
                    <div class="upgrade-count">
                        ${upgrade.count}/${upgrade.maxCount}
                    </div>
                </div>
                <button class="buy-btn ${canAfford && !isLocked ? 'enabled' : 'disabled'}" 
                        onclick="buyUpgrade(${upgrade.id})" 
                        ${canAfford && !isLocked ? '' : 'disabled'}
                        ${upgrade.count >= upgrade.maxCount ? 'disabled' : ''}>
                    ${upgrade.count >= upgrade.maxCount ? '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å!' : buttonText}
                </button>
            `;
            return div;
        }

        // ========== –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ò–ì–†–´ ==========
        function initGamePlay() {
            loadGame();
            
            if (!darkTheme) {
                document.body.classList.add('light-theme');
            }
            
            setupMenu();
            startAutoSave();
            startLoveNotifications();
            
            updateDisplay();
            renderShopUpgrades();
            renderGallery();
            gameLoop();
            
            // –¢–∞–π–º–µ—Ä –∏–≥—Ä–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
            setInterval(() => {
                playTime++;
                if (playTime % 60 === 0) {
                    updateMenuStats();
                }
            }, 1000);
            
            window.addEventListener('beforeunload', saveGame);
            window.addEventListener('pagehide', saveGame);
            
            showNotification("üíñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∏–≥—Ä—É!");
        }
        
        // ========== –ù–û–í–ê–Ø –°–ò–°–¢–ï–ú–ê –£–í–ï–î–û–ú–õ–ï–ù–ò–ô ==========
        function startLoveNotifications() {
            // –ü–µ—Ä–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 –º–∏–Ω—É—Ç—ã
            setTimeout(showLoveNotification, 120000);
            // –ó–∞—Ç–µ–º –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
            setInterval(showLoveNotification, 120000);
        }
        
        function showLoveNotification() {
            const notification = document.createElement('div');
            notification.className = 'love-notification';
            notification.textContent = '–Ω–µ –∑–∞–±—ã–≤–∞–π —á—Ç–æ —è —Ç–µ–±—è –ª—é–±–ª—é üíñ';
            notification.style.animation = 'loveNotification 10s ease-in-out forwards';
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.remove();
                }
            }, 10000);
        }
        
        function check500CoinsNotification() {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–∞–∂–¥—ã–µ 500 –º–æ–Ω–µ—Ç
            if (totalCoinsEarned >= 500 && totalCoinsEarned >= last500CoinsNotification + 500) {
                last500CoinsNotification = totalCoinsEarned - (totalCoinsEarned % 500);
                showNotification("üíù –ú–æ—è —Ç—ã —É–º–Ω–∏—á–∫–∞! –£–∂–µ " + last500CoinsNotification + " –º–æ–Ω–µ—Ç! üíñ");
            }
        }
        
        // ========== –ú–ï–ù–Æ ==========
        function setupMenu() {
            menuButton.addEventListener('click', toggleMenu);
            menuOverlay.addEventListener('click', closeMenu);
            
            themeToggle.addEventListener('change', toggleTheme);
            vibrationToggle.addEventListener('change', toggleVibration);
            soundToggle.addEventListener('change', toggleSound);
            
            themeToggle.checked = darkTheme;
            vibrationToggle.checked = vibration;
            soundToggle.checked = sound;
            document.getElementById('musicToggle').checked = musicEnabled;
        }
        
        function toggleMenu() {
            if (menuContent.style.right === '0px') {
                closeMenu();
            } else {
                openMenu();
            }
        }
        
        function openMenu() {
            menuOverlay.style.display = 'block';
            menuContent.style.right = '0';
            updateMenuStats();
            renderGallery();
        }
        
        function closeMenu() {
            menuOverlay.style.display = 'none';
            menuContent.style.right = '-350px';
        }
        
        function toggleTheme() {
            darkTheme = !darkTheme;
            if (darkTheme) {
                document.body.classList.remove('light-theme');
            } else {
                document.body.classList.add('light-theme');
            }
            saveGame();
        }
        
        function toggleVibration() {
            vibration = !vibration;
            if (vibration && navigator.vibrate) {
                navigator.vibrate(50);
            }
            saveGame();
        }
        
        function toggleSound() {
            sound = !sound;
            saveGame();
        }
        
        function updateMenuStats() {
            const minutes = Math.floor(playTime / 60);
            const hours = Math.floor(minutes / 60);
            let timeText = '';
            
            if (hours > 0) {
                timeText = `${hours} —á ${minutes % 60} –º–∏–Ω`;
            } else {
                timeText = `${minutes} –º–∏–Ω`;
            }
            
            playTimeStat.textContent = timeText;
            totalCoinsStat.textContent = totalCoinsEarned;
            totalDiamondsStat.textContent = diamonds;
            heartsBoughtStat.textContent = heartsBought;
            animalsUnlockedCount.textContent = `${unlockedAnimals}/50`;
        }
        
        // ========== –û–°–ù–û–í–ù–ê–Ø –ò–ì–†–ê ==========
        function gameLoop() {
            const now = Date.now();
            const delta = now - lastUpdate;
            
            if (heartsPerSecond > 0) {
                hearts += (heartsPerSecond * delta) / 1000;
                
                if (hearts >= 10) {
                    const earnedCoins = Math.floor(hearts / 10);
                    if (earnedCoins > 0) {
                        addCoins(earnedCoins);
                        hearts = hearts % 10;
                        
                        checkEvery5Coins();
                        checkDiamondBonus();
                        checkAnimalCollection();
                        check500CoinsNotification();
                    }
                }
            }
            
            lastUpdate = now;
            updateDisplay();
            requestAnimationFrame(gameLoop);
        }
        
        function addCoins(amount) {
            coins += amount;
            totalCoinsEarned += amount;
        }
        
        function checkEvery5Coins() {
            if (totalCoinsEarned >= 5 && totalCoinsEarned >= lastBonusCoins + 5) {
                addCoins(5);
                lastBonusCoins = totalCoinsEarned;
                spawnKiss();
            }
        }
        
        function checkDiamondBonus() {
            if (totalCoinsEarned >= 100 && totalCoinsEarned >= lastDiamondBonus + 100) {
                const diamondsEarned = Math.floor((totalCoinsEarned - lastDiamondBonus) / 100);
                if (diamondsEarned > 0) {
                    diamonds += diamondsEarned;
                    lastDiamondBonus = totalCoinsEarned - (totalCoinsEarned % 100);
                    
                    showNotification(`üíé –ü–æ–ª—É—á–µ–Ω–æ ${diamondsEarned} –∞–ª–º–∞–∑${diamondsEarned > 1 ? '–∞' : ''} –∑–∞ –º–æ–Ω–µ—Ç—ã!`);
                    updateDiamondsDisplay();
                    saveGame();
                }
            }
        }
        
        function checkAnimalCollection() {
            const earnedAnimals = Math.floor(totalCoinsEarned / 500);
            if (earnedAnimals > unlockedAnimals && earnedAnimals <= 50) {
                const newAnimals = earnedAnimals - unlockedAnimals;
                unlockedAnimals = earnedAnimals;
                
                if (newAnimals > 0) {
                    showNotification(`üéâ –û—Ç–∫—Ä—ã—Ç${newAnimals > 1 ? '–æ' : ''} ${newAnimals} –Ω–æ–≤—ã–π${newAnimals > 1 ? '—ã—Ö' : ''} –∑–≤–µ—Ä${newAnimals > 1 ? '—å–∫–æ–≤' : '—ë–∫'}!`);
                    renderGallery();
                    saveGame();
                }
            }
        }
        
        function updateDisplay() {
            coinsEl.textContent = coins;
            heartsEl.textContent = hearts.toFixed(1);
            heartsPerSecondEl.textContent = heartsPerSecond.toFixed(1);
            clickPowerEl.textContent = clickPower;
            diamondsCounter.textContent = diamonds;
        }
        
        function updateDiamondsDisplay() {
            diamondsCounter.textContent = diamonds;
            totalDiamondsStat.textContent = diamonds;
        }
        
        // ========== –°–ò–°–¢–ï–ú–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø ==========
        const SAVE_KEY = 'loveClicker_v6';
        let autoSaveInterval;
        
        function saveGame() {
            try {
                const saveData = {
                    coins: coins,
                    hearts: hearts,
                    clickPower: clickPower,
                    heartsPerSecond: heartsPerSecond,
                    diamonds: diamonds,
                    totalCoinsEarned: totalCoinsEarned,
                    lastBonusCoins: lastBonusCoins,
                    lastDiamondBonus: lastDiamondBonus,
                    last500CoinsNotification: last500CoinsNotification,
                    heartsBought: heartsBought,
                    playTime: playTime,
                    unlockedAnimals: unlockedAnimals,
                    
                    darkTheme: darkTheme,
                    vibration: vibration,
                    sound: sound,
                    musicEnabled: musicEnabled,
                    
                    diamondBonusCount: diamondBonusUpgrade.count || 0,
                    specialHeartCount: specialHeartUpgrade.count || 0,
                    
                    upgrades: upgrades.map(u => ({
                        id: u.id,
                        count: u.count,
                        cost: u.cost,
                        unlocked: u.unlocked
                    })),
                    
                    saveTime: Date.now(),
                    version: '6.0'
                };
                
                localStorage.setItem(SAVE_KEY, JSON.stringify(saveData));
                showSaveIcon();
                return true;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', error);
                return false;
            }
        }
        
        function loadGame() {
            try {
                const savedData = localStorage.getItem(SAVE_KEY);
                if (!savedData) return false;
                
                const save = JSON.parse(savedData);
                if (save.version !== '6.0') return false;
                
                coins = save.coins || 0;
                hearts = save.hearts || 0;
                clickPower = save.clickPower || 1;
                heartsPerSecond = save.heartsPerSecond || 0;
                diamonds = save.diamonds || 0;
                totalCoinsEarned = save.totalCoinsEarned || 0;
                lastBonusCoins = save.lastBonusCoins || 0;
                lastDiamondBonus = save.lastDiamondBonus || 0;
                last500CoinsNotification = save.last500CoinsNotification || 0;
                heartsBought = save.heartsBought || 0;
                playTime = save.playTime || 0;
                unlockedAnimals = save.unlockedAnimals || 0;
                
                darkTheme = save.darkTheme !== undefined ? save.darkTheme : true;
                vibration = save.vibration !== undefined ? save.vibration : true;
                sound = save.sound !== undefined ? save.sound : true;
                musicEnabled = save.musicEnabled !== undefined ? save.musicEnabled : true;
                
                diamondBonusUpgrade.count = save.diamondBonusCount || 0;
                specialHeartUpgrade.count = save.specialHeartCount || 0;
                
                if (save.upgrades) {
                    save.upgrades.forEach(savedUpgrade => {
                        const upgrade = upgrades.find(u => u.id === savedUpgrade.id);
                        if (upgrade) {
                            upgrade.count = savedUpgrade.count || 0;
                            upgrade.cost = savedUpgrade.cost || upgrade.baseCost * Math.pow(1.5, upgrade.count);
                            upgrade.unlocked = savedUpgrade.unlocked !== undefined ? savedUpgrade.unlocked : false;
                        }
                    });
                }
                
                return true;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:', error);
                return false;
            }
        }
        
        function startAutoSave() {
            if (autoSaveInterval) clearInterval(autoSaveInterval);
            autoSaveInterval = setInterval(saveGame, 30000);
        }
        
        function showSaveIcon() {
            const saveIcon = document.getElementById('saveIcon');
            saveIcon.style.opacity = '1';
            saveIcon.style.transform = 'translateY(0)';
            
            setTimeout(() => {
                saveIcon.style.opacity = '0';
                saveIcon.style.transform = 'translateY(10px)';
            }, 2000);
        }
        
        // ========== –§–£–ù–ö–¶–ò–ò –ú–ê–ì–ê–ó–ò–ù–ê ==========
        function buyUpgrade(id) {
            const upgrade = upgrades.find(u => u.id === id);
            if (!upgrade || !upgrade.unlocked || coins < upgrade.cost || upgrade.count >= upgrade.maxCount) return;
            
            coins -= upgrade.cost;
            heartsPerSecond += upgrade.heartsPerSecond;
            upgrade.count++;
            upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(1.5, upgrade.count));
            
            updateDisplay();
            renderShopUpgrades();
            showNotification(`üéâ –ö—É–ø–∏–ª–∏ ${upgrade.name}!`);
            checkUpgradesUnlock();
            setTimeout(saveGame, 500);
        }
        
        function upgradeClickPower() {
            const cost = clickPower * 100;
            if (coins < cost) return;
            
            coins -= cost;
            clickPower += 1;
            updateDisplay();
            renderShopUpgrades();
            showNotification(`üí™ –°–∏–ª–∞ –∫–ª–∏–∫–∞: ${clickPower}`);
            setTimeout(saveGame, 500);
        }
        
        // –ò–ó–ú–ï–ù–ï–ù–û: –°–µ—Ä–¥–µ—á–∫–æ –¥–ª—è –î–∏–∞–Ω—ã —Ç–µ–ø–µ—Ä—å –∑–∞ 5 –∞–ª–º–∞–∑–æ–≤ –∏ –¥–∞–µ—Ç 250 –º–æ–Ω–µ—Ç
        function buySpecialHeart() {
            if (diamonds < specialHeartUpgrade.diamondCost) {
                showNotification(`üíé –ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏ –∞–ª–º–∞–∑–æ–≤!`);
                return;
            }
            
            diamonds -= specialHeartUpgrade.diamondCost;
            specialHeartUpgrade.count++;
            heartsBought++;
            
            // –î–∞—Ä–∏–º 250 –º–æ–Ω–µ—Ç
            addCoins(250);
            
            updateDiamondsDisplay();
            renderShopUpgrades();
            updateMenuStats();
            
            showNotification("üíñ –ú–æ—è —Ç—ã —Ö–æ—Ä–æ—à–∞—è! +250 –º–æ–Ω–µ—Ç –∑–∞ –∞–ª–º–∞–∑—ã!");
            
            if (vibration && navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
            
            setTimeout(saveGame, 500);
        }
        
        function buyDiamondBonus() {
            if (diamonds < diamondBonusUpgrade.diamondCost) {
                showNotification(`üíé –ù–µ –Ω–µ –Ω–µ, –µ—â–µ —Å–æ–±–µ—Ä–∏ –∞–ª–º–∞–∑–æ–≤!`);
                return;
            }
            
            diamonds -= diamondBonusUpgrade.diamondCost;
            diamondBonusUpgrade.count++;
            
            // –î–∞—Ä–∏–º 500 –º–æ–Ω–µ—Ç
            addCoins(500);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–Ωo—ç–∫—Ä–∞–Ω–Ω—ã–π –ø–æ—Ü–µ–ª—É–π
            showFullscreenKiss();
            
            updateDiamondsDisplay();
            renderShopUpgrades();
            
            showNotification("üíã –ü–û–¶–ï–õ–£–ô! +500 –º–æ–Ω–µ—Ç –∑–∞ –∞–ª–º–∞–∑—ã! üíñ");
            
            // –í–∏–±—Ä–∞—Ü–∏—è
            if (vibration && navigator.vibrate) {
                navigator.vibrate([100, 50, 200, 50, 100]);
            }
            
            setTimeout(saveGame, 500);
        }
        
        // ========== –ü–û–¶–ï–õ–£–ô–ß–ò–ö–ò ==========
        function spawnKiss() {
            const kiss = document.createElement('div');
            kiss.className = 'kiss';
            kiss.textContent = 'üíã';
            kiss.style.left = Math.random() * 70 + 15 + 'vw';
            
            kiss.addEventListener('click', function(e) {
                e.stopPropagation();
                catchKiss(this);
            });
            
            kiss.addEventListener('touchstart', function(e) {
                e.stopPropagation();
                catchKiss(this);
                e.preventDefault();
            }, { passive: false });
            
            document.body.appendChild(kiss);
            
            setTimeout(() => {
                if (kiss.parentNode) {
                    kiss.remove();
                }
            }, 6000);
        }
        
        function catchKiss(kissElement) {
            if (kissElement.classList.contains('caught')) return;
            
            kissElement.classList.add('caught');
            addCoins(50);
            showNotification("üíã –ü–æ–π–º–∞–ª–∞ –ø–æ—Ü–µ–ª—É–π—á–∏–∫! +50 –º–æ–Ω–µ—Ç!");
            
            setTimeout(() => {
                if (kissElement.parentNode) {
                    kissElement.remove();
                }
            }, 800);
        }
        
        function showNotification(text) {
            notification.textContent = text;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // ========== –û–°–ù–û–í–ù–û–ô –ö–õ–ò–ö ==========
        heartBtn.addEventListener('click', (e) => {
            hearts += clickPower;
            
            if (hearts >= 10) {
                const earnedCoins = Math.floor(hearts / 10);
                if (earnedCoins > 0) {
                    addCoins(earnedCoins);
                    hearts = hearts % 10;
                    
                    checkEvery5Coins();
                    checkDiamondBonus();
                    checkAnimalCollection();
                    check500CoinsNotification();
                }
            }
            
            updateDisplay();
        });
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è HTML
        window.buyUpgrade = buyUpgrade;
        window.upgradeClickPower = upgradeClickPower;
        window.buySpecialHeart = buySpecialHeart;
        window.buyDiamondBonus = buyDiamondBonus;
    </script>
</body>
</html>